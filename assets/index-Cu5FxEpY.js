(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const Vt=!1;var ne=Array.isArray,Xe=Array.prototype.indexOf,Ge=Array.from,Ke=Object.defineProperty,ut=Object.getOwnPropertyDescriptor,Ze=Object.prototype,Je=Array.prototype,Qe=Object.getPrototypeOf,Xt=Object.isExtensible;function tr(t){for(var e=0;e<t.length;e++)t[e]()}const F=2,le=4,It=8,Ft=16,W=32,nt=64,Mt=128,k=256,ct=512,I=1024,U=2048,Z=4096,rt=8192,Bt=16384,oe=32768,Yt=65536,er=1<<19,ie=1<<20,Rt=1<<21,Lt=Symbol("$state");function ue(t){return t===this.v}function rr(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function nr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function lr(t){throw new Error("https://svelte.dev/e/effect_orphan")}function or(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ir(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ur(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ar(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let gt=!1,sr=!1;function fr(){gt=!0}const cr=2,P=Symbol();function vr(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let b=null;function Gt(t){b=t}function ae(t,e=!1,r){var l=b={p:b,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};gt&&!e&&(b.l={s:null,u:null,r1:[],r2:_e(!1)}),me(()=>{l.d=!0})}function se(t){const e=b;if(e!==null){const i=e.e;if(i!==null){var r=m,l=g;e.e=null;try{for(var o=0;o<i.length;o++){var n=i[o];X(n.effect),q(n.reaction),ye(n.fn)}}finally{X(r),q(l)}}b=e.p,e.m=!0}return{}}function wt(){return!gt||b!==null&&b.l===null}function et(t){if(typeof t!="object"||t===null||Lt in t)return t;const e=Qe(t);if(e!==Ze&&e!==Je)return t;var r=new Map,l=ne(t),o=E(0),n=g,i=a=>{var u=g;q(n);var s=a();return q(u),s};return l&&r.set("length",E(t.length)),new Proxy(t,{defineProperty(a,u,s){(!("value"in s)||s.configurable===!1||s.enumerable===!1||s.writable===!1)&&ir();var d=r.get(u);return d===void 0?d=i(()=>{var c=E(s.value);return r.set(u,c),c}):p(d,s.value,!0),!0},deleteProperty(a,u){var s=r.get(u);if(s===void 0){if(u in a){const v=i(()=>E(P));r.set(u,v),Ot(o)}}else{if(l&&typeof u=="string"){var d=r.get("length"),c=Number(u);Number.isInteger(c)&&c<d.v&&p(d,c)}p(s,P),Ot(o)}return!0},get(a,u,s){var h;if(u===Lt)return t;var d=r.get(u),c=u in a;if(d===void 0&&(!c||(h=ut(a,u))!=null&&h.writable)&&(d=i(()=>{var y=et(c?a[u]:P),S=E(y);return S}),r.set(u,d)),d!==void 0){var v=f(d);return v===P?void 0:v}return Reflect.get(a,u,s)},getOwnPropertyDescriptor(a,u){var s=Reflect.getOwnPropertyDescriptor(a,u);if(s&&"value"in s){var d=r.get(u);d&&(s.value=f(d))}else if(s===void 0){var c=r.get(u),v=c==null?void 0:c.v;if(c!==void 0&&v!==P)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return s},has(a,u){var v;if(u===Lt)return!0;var s=r.get(u),d=s!==void 0&&s.v!==P||Reflect.has(a,u);if(s!==void 0||m!==null&&(!d||(v=ut(a,u))!=null&&v.writable)){s===void 0&&(s=i(()=>{var h=d?et(a[u]):P,y=E(h);return y}),r.set(u,s));var c=f(s);if(c===P)return!1}return d},set(a,u,s,d){var B;var c=r.get(u),v=u in a;if(l&&u==="length")for(var h=s;h<c.v;h+=1){var y=r.get(h+"");y!==void 0?p(y,P):h in a&&(y=i(()=>E(P)),r.set(h+"",y))}if(c===void 0)(!v||(B=ut(a,u))!=null&&B.writable)&&(c=i(()=>E(void 0)),p(c,et(s)),r.set(u,c));else{v=c.v!==P;var S=i(()=>et(s));p(c,S)}var z=Reflect.getOwnPropertyDescriptor(a,u);if(z!=null&&z.set&&z.set.call(d,s),!v){if(l&&typeof u=="string"){var J=r.get("length"),M=Number(u);Number.isInteger(M)&&M>=J.v&&p(J,M+1)}Ot(o)}return!0},ownKeys(a){f(o);var u=Reflect.ownKeys(a).filter(c=>{var v=r.get(c);return v===void 0||v.v!==P});for(var[s,d]of r)d.v!==P&&!(s in a)&&u.push(s);return u},setPrototypeOf(){ur()}})}function Ot(t,e=1){p(t,t.v+e)}function _r(t){var e=F|U,r=g!==null&&(g.f&F)!==0?g:null;return m===null||r!==null&&(r.f&k)!==0?e|=k:m.f|=ie,{ctx:b,deps:null,effects:null,equals:ue,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:r??m}}function fe(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)K(e[r])}}function dr(t){for(var e=t.parent;e!==null;){if((e.f&F)===0)return e;e=e.parent}return null}function ce(t){var e,r=m;X(dr(t));try{fe(t),e=Ae(t)}finally{X(r)}return e}function ve(t){var e=ce(t);if(t.equals(e)||(t.v=e,t.wv=Pe()),!lt){var r=($||(t.f&k)!==0)&&t.deps!==null?Z:I;j(t,r)}}const at=new Map;function _e(t,e){var r={f:0,v:t,reactions:null,equals:ue,rv:0,wv:0};return r}function E(t,e){const r=_e(t);return Pr(r),r}function p(t,e,r=!1){g!==null&&!Y&&wt()&&(g.f&(F|Ft))!==0&&!(C!=null&&C[1].includes(t)&&C[0]===g)&&ar();let l=r?et(e):e;return hr(t,l)}function hr(t,e){if(!t.equals(e)){var r=t.v;lt?at.set(t,e):at.set(t,r),t.v=e,(t.f&F)!==0&&((t.f&U)!==0&&ce(t),j(t,(t.f&k)===0?I:Z)),t.wv=Pe(),de(t,U),wt()&&m!==null&&(m.f&I)!==0&&(m.f&(W|nt))===0&&(D===null?Sr([t]):D.push(t))}return e}function de(t,e){var r=t.reactions;if(r!==null)for(var l=wt(),o=r.length,n=0;n<o;n++){var i=r[n],a=i.f;(a&U)===0&&(!l&&i===m||(j(i,e),(a&(I|k))!==0&&((a&F)!==0?de(i,Z):jt(i))))}}var Pt,he,pe,ge;function pr(){if(Pt===void 0){Pt=window,he=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;pe=ut(e,"firstChild").get,ge=ut(e,"nextSibling").get,Xt(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Xt(r)&&(r.__t=void 0)}}function gr(t=""){return document.createTextNode(t)}function vt(t){return pe.call(t)}function we(t){return ge.call(t)}function H(t,e){return vt(t)}function Tt(t,e=1,r=!1){let l=t;for(;e--;)l=we(l);return l}function wr(t){m===null&&g===null&&lr(),g!==null&&(g.f&k)!==0&&m===null&&nr(),lt&&rr()}function mr(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function st(t,e,r,l=!0){var o=m,n={ctx:b,deps:null,nodes_start:null,nodes_end:null,f:t|U,first:null,fn:e,last:null,next:null,parent:o,prev:null,teardown:null,transitions:null,wv:0};if(r)try{qt(n),n.f|=oe}catch(u){throw K(n),u}else e!==null&&jt(n);var i=r&&n.deps===null&&n.first===null&&n.nodes_start===null&&n.teardown===null&&(n.f&(ie|Mt))===0;if(!i&&l&&(o!==null&&mr(n,o),g!==null&&(g.f&F)!==0)){var a=g;(a.effects??(a.effects=[])).push(n)}return n}function me(t){const e=st(It,null,!1);return j(e,I),e.teardown=t,e}function yr(t){wr();var e=m!==null&&(m.f&W)!==0&&b!==null&&!b.m;if(e){var r=b;(r.e??(r.e=[])).push({fn:t,effect:m,reaction:g})}else{var l=ye(t);return l}}function Er(t){const e=st(nt,t,!0);return(r={})=>new Promise(l=>{r.outro?At(e,()=>{K(e),l(void 0)}):(K(e),l(void 0))})}function ye(t){return st(le,t,!1)}function Cr(t,e=[],r=_r){const l=e.map(r);return Ee(()=>t(...l.map(f)))}function Ee(t,e=0){return st(It|Ft|e,t,!0)}function St(t,e=!0){return st(It|W,t,!0,e)}function Ce(t){var e=t.teardown;if(e!==null){const r=lt,l=g;Zt(!0),q(null);try{e.call(null)}finally{Zt(r),q(l)}}}function be(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var l=r.next;(r.f&nt)!==0?r.parent=null:K(r,e),r=l}}function br(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&W)===0&&K(e),e=r}}function K(t,e=!0){var r=!1;(e||(t.f&er)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(xr(t.nodes_start,t.nodes_end),r=!0),be(t,e&&!r),pt(t,0),j(t,Bt);var l=t.transitions;if(l!==null)for(const n of l)n.stop();Ce(t);var o=t.parent;o!==null&&o.first!==null&&xe(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function xr(t,e){for(;t!==null;){var r=t===e?null:we(t);t.remove(),t=r}}function xe(t){var e=t.parent,r=t.prev,l=t.next;r!==null&&(r.next=l),l!==null&&(l.prev=r),e!==null&&(e.first===t&&(e.first=l),e.last===t&&(e.last=r))}function At(t,e){var r=[];Le(t,r,!0),Lr(r,()=>{K(t),e&&e()})}function Lr(t,e){var r=t.length;if(r>0){var l=()=>--r||e();for(var o of t)o.out(l)}else e()}function Le(t,e,r){if((t.f&rt)===0){if(t.f^=rt,t.transitions!==null)for(const i of t.transitions)(i.is_global||r)&&e.push(i);for(var l=t.first;l!==null;){var o=l.next,n=(l.f&Yt)!==0||(l.f&W)!==0;Le(l,e,n?r:!1),l=o}}}function Kt(t){Oe(t,!0)}function Oe(t,e){if((t.f&rt)!==0){t.f^=rt;for(var r=t.first;r!==null;){var l=r.next,o=(r.f&Yt)!==0||(r.f&W)!==0;Oe(r,o?e:!1),r=l}if(t.transitions!==null)for(const n of t.transitions)(n.is_global||e)&&n.in()}}let _t=[];function Or(){var t=_t;_t=[],tr(t)}function Tr(t){_t.length===0&&queueMicrotask(Or),_t.push(t)}function Rr(t){var e=m;if((e.f&oe)===0){if((e.f&Mt)===0)throw t;e.fn(t)}else Te(t,e)}function Te(t,e){for(;e!==null;){if((e.f&Mt)!==0)try{e.fn(t);return}catch{}e=e.parent}throw t}let Nt=!1,dt=null,G=!1,lt=!1;function Zt(t){lt=t}let ft=[];let g=null,Y=!1;function q(t){g=t}let m=null;function X(t){m=t}let C=null;function Pr(t){g!==null&&g.f&Rt&&(C===null?C=[g,[t]]:C[1].push(t))}let L=null,N=0,D=null;function Sr(t){D=t}let Re=1,ht=0,$=!1;function Pe(){return++Re}function mt(t){var c;var e=t.f;if((e&U)!==0)return!0;if((e&Z)!==0){var r=t.deps,l=(e&k)!==0;if(r!==null){var o,n,i=(e&ct)!==0,a=l&&m!==null&&!$,u=r.length;if(i||a){var s=t,d=s.parent;for(o=0;o<u;o++)n=r[o],(i||!((c=n==null?void 0:n.reactions)!=null&&c.includes(s)))&&(n.reactions??(n.reactions=[])).push(s);i&&(s.f^=ct),a&&d!==null&&(d.f&k)===0&&(s.f^=k)}for(o=0;o<u;o++)if(n=r[o],mt(n)&&ve(n),n.wv>t.wv)return!0}(!l||m!==null&&!$)&&j(t,I)}return!1}function Se(t,e,r=!0){var l=t.reactions;if(l!==null)for(var o=0;o<l.length;o++){var n=l[o];C!=null&&C[1].includes(t)&&C[0]===g||((n.f&F)!==0?Se(n,e,!1):e===n&&(r?j(n,U):(n.f&I)!==0&&j(n,Z),jt(n)))}}function Ae(t){var h;var e=L,r=N,l=D,o=g,n=$,i=C,a=b,u=Y,s=t.f;L=null,N=0,D=null,$=(s&k)!==0&&(Y||!G||g===null),g=(s&(W|nt))===0?t:null,C=null,Gt(t.ctx),Y=!1,ht++,t.f|=Rt;try{var d=(0,t.fn)(),c=t.deps;if(L!==null){var v;if(pt(t,N),c!==null&&N>0)for(c.length=N+L.length,v=0;v<L.length;v++)c[N+v]=L[v];else t.deps=c=L;if(!$)for(v=N;v<c.length;v++)((h=c[v]).reactions??(h.reactions=[])).push(t)}else c!==null&&N<c.length&&(pt(t,N),c.length=N);if(wt()&&D!==null&&!Y&&c!==null&&(t.f&(F|Z|U))===0)for(v=0;v<D.length;v++)Se(D[v],t);return o!==null&&o!==t&&(ht++,D!==null&&(l===null?l=D:l.push(...D))),d}catch(y){Rr(y)}finally{L=e,N=r,D=l,g=o,$=n,C=i,Gt(a),Y=u,t.f^=Rt}}function Ar(t,e){let r=e.reactions;if(r!==null){var l=Xe.call(r,t);if(l!==-1){var o=r.length-1;o===0?r=e.reactions=null:(r[l]=r[o],r.pop())}}r===null&&(e.f&F)!==0&&(L===null||!L.includes(e))&&(j(e,Z),(e.f&(k|ct))===0&&(e.f^=ct),fe(e),pt(e,0))}function pt(t,e){var r=t.deps;if(r!==null)for(var l=e;l<r.length;l++)Ar(t,r[l])}function qt(t){var e=t.f;if((e&Bt)===0){j(t,I);var r=m,l=G;m=t,G=!0;try{(e&Ft)!==0?br(t):be(t),Ce(t);var o=Ae(t);t.teardown=typeof o=="function"?o:null,t.wv=Re;var n;Vt&&sr&&(t.f&U)!==0&&t.deps}finally{G=l,m=r}}}function Nr(){try{or()}catch(t){if(dt!==null)Te(t,dt);else throw t}}function kr(){var t=G;try{var e=0;for(G=!0;ft.length>0;){e++>1e3&&Nr();var r=ft,l=r.length;ft=[];for(var o=0;o<l;o++){var n=Ir(r[o]);Dr(n)}at.clear()}}finally{Nt=!1,G=t,dt=null}}function Dr(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var l=t[r];(l.f&(Bt|rt))===0&&mt(l)&&(qt(l),l.deps===null&&l.first===null&&l.nodes_start===null&&(l.teardown===null?xe(l):l.fn=null))}}function jt(t){Nt||(Nt=!0,queueMicrotask(kr));for(var e=dt=t;e.parent!==null;){e=e.parent;var r=e.f;if((r&(nt|W))!==0){if((r&I)===0)return;e.f^=I}}ft.push(e)}function Ir(t){for(var e=[],r=t;r!==null;){var l=r.f,o=(l&(W|nt))!==0,n=o&&(l&I)!==0;if(!n&&(l&rt)===0){(l&le)!==0?e.push(r):o?r.f^=I:mt(r)&&qt(r);var i=r.first;if(i!==null){r=i;continue}}var a=r.parent;for(r=r.next;r===null&&a!==null;)r=a.next,a=a.parent}return e}function f(t){var e=t.f,r=(e&F)!==0;if(g!==null&&!Y){if(!(C!=null&&C[1].includes(t))||C[0]!==g){var l=g.deps;t.rv<ht&&(t.rv=ht,L===null&&l!==null&&l[N]===t?N++:L===null?L=[t]:(!$||!L.includes(t))&&L.push(t))}}else if(r&&t.deps===null&&t.effects===null){var o=t,n=o.parent;n!==null&&(n.f&k)===0&&(o.f^=k)}return r&&(o=t,mt(o)&&ve(o)),lt&&at.has(t)?at.get(t):t.v}function Fr(t){var e=Y;try{return Y=!0,t()}finally{Y=e}}const Mr=-7169;function j(t,e){t.f=t.f&Mr|e}const Br=["touchstart","touchmove"];function Yr(t){return Br.includes(t)}function qr(t){var e=g,r=m;q(null),X(null);try{return t()}finally{q(e),X(r)}}const Ne=new Set,kt=new Set;function jr(t,e,r,l={}){function o(n){if(l.capture||it.call(e,n),!n.cancelBubble)return qr(()=>r==null?void 0:r.call(this,n))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Tr(()=>{e.addEventListener(t,o,l)}):e.addEventListener(t,o,l),o}function zr(t,e,r,l,o){var n={capture:l,passive:o},i=jr(t,e,r,n);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&me(()=>{e.removeEventListener(t,i,n)})}function Hr(t){for(var e=0;e<t.length;e++)Ne.add(t[e]);for(var r of kt)r(t)}function it(t){var M;var e=this,r=e.ownerDocument,l=t.type,o=((M=t.composedPath)==null?void 0:M.call(t))||[],n=o[0]||t.target,i=0,a=t.__root;if(a){var u=o.indexOf(a);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var s=o.indexOf(e);if(s===-1)return;u<=s&&(i=u)}if(n=o[i]||t.target,n!==e){Ke(t,"currentTarget",{configurable:!0,get(){return n||r}});var d=g,c=m;q(null),X(null);try{for(var v,h=[];n!==null;){var y=n.assignedSlot||n.parentNode||n.host||null;try{var S=n["__"+l];if(S!=null&&(!n.disabled||t.target===n))if(ne(S)){var[z,...J]=S;z.apply(n,[t,...J])}else S.call(n,t)}catch(B){v?h.push(B):v=B}if(t.cancelBubble||y===e||y===null)break;n=y}if(v){for(let B of h)queueMicrotask(()=>{throw B});throw v}}finally{t.__root=e,delete t.currentTarget,q(d),X(c)}}}function ke(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function De(t,e){var r=m;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function yt(t,e){var r=(e&cr)!==0,l,o=!t.startsWith("<!>");return()=>{l===void 0&&(l=ke(o?t:"<!>"+t),l=vt(l));var n=r||he?document.importNode(l,!0):l.cloneNode(!0);return De(n,n),n}}function Ur(t,e,r="svg"){var l=!t.startsWith("<!>"),o=`<${r}>${l?t:"<!>"+t}</${r}>`,n;return()=>{if(!n){var i=ke(o),a=vt(i);n=vt(a)}var u=n.cloneNode(!0);return De(u,u),u}}function Et(t,e){return Ur(t,e,"svg")}function V(t,e){t!==null&&t.before(e)}function Wr(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function $r(t,e){return Vr(t,e)}const Q=new Map;function Vr(t,{target:e,anchor:r,props:l={},events:o,context:n,intro:i=!0}){pr();var a=new Set,u=c=>{for(var v=0;v<c.length;v++){var h=c[v];if(!a.has(h)){a.add(h);var y=Yr(h);e.addEventListener(h,it,{passive:y});var S=Q.get(h);S===void 0?(document.addEventListener(h,it,{passive:y}),Q.set(h,1)):Q.set(h,S+1)}}};u(Ge(Ne)),kt.add(u);var s=void 0,d=Er(()=>{var c=r??e.appendChild(gr());return St(()=>{if(n){ae({});var v=b;v.c=n}o&&(l.$$events=o),s=t(c,l)||{},n&&se()}),()=>{var y;for(var v of a){e.removeEventListener(v,it);var h=Q.get(v);--h===0?(document.removeEventListener(v,it),Q.delete(v)):Q.set(v,h)}kt.delete(u),c!==r&&((y=c.parentNode)==null||y.removeChild(c))}});return Xr.set(s,d),s}let Xr=new WeakMap;function Jt(t,e,[r,l]=[0,0]){var o=t,n=null,i=null,a=P,u=r>0?Yt:0,s=!1;const d=(v,h=!0)=>{s=!0,c(h,v)},c=(v,h)=>{a!==(a=v)&&(a?(n?Kt(n):h&&(n=St(()=>h(o))),i&&At(i,()=>{i=null})):(i?Kt(i):h&&(i=St(()=>h(o,[r+1,l]))),n&&At(n,()=>{n=null})))};Ee(()=>{s=!1,e(d),s||c(null,null)},u)}function Gr(t){b===null&&vr(),gt&&b.l!==null?Kr(b).m.push(t):yr(()=>{const e=Fr(t);if(typeof e=="function")return e})}function Kr(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Zr="5";var re;typeof window<"u"&&((re=window.__svelte??(window.__svelte={})).v??(re.v=new Set)).add(Zr);const ot=20,Jr="#082f49",Qr="#0a0a0a",zt=14,Ie=25,tn=10;var tt=(t=>(t.LEFT="ArrowLeft",t.RIGHT="ArrowRight",t.UP="ArrowUp",t.DOWN="ArrowDown",t.SPACE=" ",t))(tt||{});const Qt=["#ef4444","#ea580c","#facc15","#16a34a","#0ea5e9","#2563eb","#a855f7","#f472b6"],te=[[[1,1],[1,1]],[[1,1,1,1]],[[0,1,0],[1,1,1]],[[1,1,0],[0,1,1]],[[0,1,1],[1,1,0]],[[1,0],[1,0],[1,1]],[[0,1],[0,1],[1,1]]],Fe=()=>Array(Ie).fill([]).map(()=>Me()),Me=()=>Array(zt).fill({value:0,color:""}),Dt=()=>{const t=en(),e=rn(),r=nn(e[0].length);return{color:t,shape:e,positionX:r,positionY:0}},en=()=>{const t=Math.floor(Math.random()*Qt.length);return Qt[t]},rn=()=>te[Math.floor(Math.random()*te.length)],nn=t=>Math.floor((zt-t)/2);fr();var ln=Et('<svg xmlns="http://www.w3.org/2000/svg" height="12" width="7.5" viewBox="0 0 320 512"><path fill="currentColor" d="M48 64C21.5 64 0 85.5 0 112L0 400c0 26.5 21.5 48 48 48l32 0c26.5 0 48-21.5 48-48l0-288c0-26.5-21.5-48-48-48L48 64zm192 0c-26.5 0-48 21.5-48 48l0 288c0 26.5 21.5 48 48 48l32 0c26.5 0 48-21.5 48-48l0-288c0-26.5-21.5-48-48-48l-32 0z"></path></svg>');function on(t){var e=ln();V(t,e)}var un=Et('<svg xmlns="http://www.w3.org/2000/svg" height="24" width="18" viewBox="0 0 384 512"><path fill="currentColor" d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"></path></svg>');function an(t){var e=un();V(t,e)}var sn=Et('<svg xmlns="http://www.w3.org/2000/svg" height="24" width="18" viewBox="0 0 640 640"><path fill="currentColor" d="M544.1 256L552 256C565.3 256 576 245.3 576 232L576 88C576 78.3 570.2 69.5 561.2 65.8C552.2 62.1 541.9 64.2 535 71L483.3 122.8C439 86.1 382 64 320 64C191 64 84.3 159.4 66.6 283.5C64.1 301 76.2 317.2 93.7 319.7C111.2 322.2 127.4 310 129.9 292.6C143.2 199.5 223.3 128 320 128C364.4 128 405.2 143 437.7 168.3L391 215C384.1 221.9 382.1 232.2 385.8 241.2C389.5 250.2 398.3 256 408 256L544.1 256zM573.5 356.5C576 339 563.8 322.8 546.4 320.3C529 317.8 512.7 330 510.2 347.4C496.9 440.4 416.8 511.9 320.1 511.9C275.7 511.9 234.9 496.9 202.4 471.6L249 425C255.9 418.1 257.9 407.8 254.2 398.8C250.5 389.8 241.7 384 232 384L88 384C74.7 384 64 394.7 64 408L64 552C64 561.7 69.8 570.5 78.8 574.2C87.8 577.9 98.1 575.8 105 569L156.8 517.2C201 553.9 258 576 320 576C449 576 555.7 480.6 573.4 356.5z"></path></svg>');function fn(t){var e=sn();V(t,e)}var cn=Et('<svg xmlns="http://www.w3.org/2000/svg" height="12" width="12" viewBox="0 0 640 640"><path fill="currentColor" d="M544.1 256L552 256C565.3 256 576 245.3 576 232L576 88C576 78.3 570.2 69.5 561.2 65.8C552.2 62.1 541.9 64.2 535 71L483.3 122.8C439 86.1 382 64 320 64C191 64 84.3 159.4 66.6 283.5C64.1 301 76.2 317.2 93.7 319.7C111.2 322.2 127.4 310 129.9 292.6C143.2 199.5 223.3 128 320 128C364.4 128 405.2 143 437.7 168.3L391 215C384.1 221.9 382.1 232.2 385.8 241.2C389.5 250.2 398.3 256 408 256L544.1 256zM573.5 356.5C576 339 563.8 322.8 546.4 320.3C529 317.8 512.7 330 510.2 347.4C496.9 440.4 416.8 511.9 320.1 511.9C275.7 511.9 234.9 496.9 202.4 471.6L249 425C255.9 418.1 257.9 407.8 254.2 398.8C250.5 389.8 241.7 384 232 384L88 384C74.7 384 64 394.7 64 408L64 552C64 561.7 69.8 570.5 78.8 574.2C87.8 577.9 98.1 575.8 105 569L156.8 517.2C201 553.9 258 576 320 576C449 576 555.7 480.6 573.4 356.5z"></path></svg>');function vn(t){var e=cn();V(t,e)}const ee=(t,e,r,l,o,n,i,a,u,s)=>{p(e,Fe(),!0),p(r,Dt(),!0),p(l,null),p(o,!0),p(n,!1),p(i,0),p(a,0),p(u,0),s()};var _n=yt('<button class="flex gap-2 items-center cursor-pointer transition-all px-8 py-2 text-2xl text-gray-300 hover:text-gray-100 hover:scale-110"><!> Play</button>'),dn=yt('<button class="flex gap-2 items-center cursor-pointer transition-all px-8 py-2 text-2xl text-gray-300 hover:text-gray-100 hover:scale-110"><!> Game over!</button>'),hn=yt('<section class="absolute top-0 left-0 w-full h-full flex justify-center items-center bg-neutral-800/90 rounded"><!></section>'),pn=yt('<main class="relative flex flex-col gap-1 p-2"><header class="flex justify-between text-gray-300"><span> </span> <div class="flex gap-1"><button class="flex justify-center items-center rounded-full size-5 bg-neutral-700 cursor-pointer"><!></button> <button class="flex justify-center items-center rounded-full size-5 bg-neutral-700 cursor-pointer" title="Reset game"><!></button></div></header> <canvas class="bg-zinc-950 border border-gray-700 rounded"></canvas> <!></main>');function gn(t,e){ae(e,!0);let r=E(null),l=E(null),o=E(et(Fe())),n=E(null),i=E(null),a=E(!1),u=E(!1),s=E(0),d=E(0),c=E(0);Gr(()=>{var _;p(r,document.querySelector("canvas"),!0),p(l,((_=f(r))==null?void 0:_.getContext("2d"))??null,!0),f(r)&&f(l)&&(f(r).width=ot*zt,f(r).height=ot*Ie,f(l).scale(ot,ot),z())});const v=({key:_})=>{if(_===tt.SPACE){h();return}B({up:_===tt.UP,down:_===tt.DOWN,left:_===tt.LEFT,right:_===tt.RIGHT})},h=()=>{p(a,!f(a)),f(i)||p(i,Dt(),!0),f(a)&&y()},y=(_=0)=>{!f(a)||f(u)||(S(_),z(),J(),window.requestAnimationFrame(y))},S=_=>{const w=_-f(c);p(c,_,!0),p(d,f(d)+w),f(d)>750&&(B({down:!0}),p(d,0))},z=()=>{f(o).forEach((_,w)=>{_.forEach(({value:x,color:O},T)=>{x===1?M(T,w,O):M(T,w,Jr)})})},J=()=>{if(!f(i))return;const _=f(i).color,w=f(i).positionX,x=f(i).positionY;f(i).shape.forEach((O,T)=>{O.forEach((A,R)=>{A===1&&f(i)&&M(R+w,T+x,_)})})},M=(_,w,x)=>{f(l)&&(f(l).lineWidth=1/ot,f(l).strokeStyle=Qr,f(l).strokeRect(_,w,1,1),f(l).fillStyle=x,f(l).fillRect(_,w,1,1))},B=_=>{if(f(i)){if(p(n,{...f(i)},!0),_.up?p(n,Ye(f(n)),!0):p(n,Be(f(n),_),!0),!Ct(f(n))){p(i,{...f(n)},!0),p(n,null);return}if(!_.down){p(n,null);return}if(qe(),je(),p(n,Dt(),!0),!Ct(f(n))){p(i,{...f(n)},!0),p(n,null);return}for(;f(n).positionY>=0&&Ct(f(n));)f(n).positionY--;p(i,{...f(n)},!0),p(n,null),p(u,!0)}},Be=(_,w)=>(w.left&&_.positionX--,w.right&&_.positionX++,w.down&&_.positionY++,_),Ye=_=>{const w=[];for(let x=0;x<_.shape[0].length;x++){const O=[];for(let T=_.shape.length-1;T>=0;T--)O.push(_.shape[T][x]);w.push(O)}return _.shape=w,_},Ct=_=>_.shape.some((w,x)=>w.some((O,T)=>{var A,R;return O===1&&((R=(A=f(o)[x+_.positionY])==null?void 0:A[T+_.positionX])==null?void 0:R.value)!==0})),qe=()=>{if(!f(i))return;const _=f(i).color,w=f(i).positionX,x=f(i).positionY;f(i).shape.forEach((O,T)=>{O.forEach((A,R)=>{A===1&&(f(o)[T+x][R+w]={value:1,color:_})})})},je=()=>{const _=[];f(o).forEach((w,x)=>{w.every(({value:O})=>O===1)&&_.push(x)}),_.forEach(w=>{f(o).splice(w,1),f(o).unshift(Me()),p(s,f(s)+tn)})};var Ht=pn();zr("keydown",Pt,v,!0);var Ut=H(Ht),Wt=H(Ut),ze=H(Wt),He=Tt(Wt,2),bt=H(He);bt.__click=h;var Ue=H(bt);on(Ue);var $t=Tt(bt,2);$t.__click=[ee,o,i,n,a,u,s,d,c,y];var We=H($t);vn(We);var $e=Tt(Ut,4);{var Ve=_=>{var w=hn(),x=H(w);{var O=A=>{var R=_n();R.__click=h;var xt=H(R);an(xt),V(A,R)},T=A=>{var R=dn();R.__click=[ee,o,i,n,a,u,s,d,c,y];var xt=H(R);fn(xt),V(A,R)};Jt(x,A=>{f(u)?A(T,!1):A(O)})}V(_,w)};Jt($e,_=>{(!f(a)||f(u))&&_(Ve)})}Cr(()=>Wr(ze,`Score: ${f(s)??""}`)),V(t,Ht),se()}Hr(["click"]);$r(gn,{target:document.getElementById("app")});
